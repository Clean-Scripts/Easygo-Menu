<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/Clean-Scripts/EasyGo-Expense-Tracker/refs/heads/main/logo.png">
    
    <!-- Load Full Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'bounce-short': 'bounce-short 3s infinite',
                    },
                    keyframes: {
                        'bounce-short': {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' },
                        }
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .banner-clip {
            clip-path: polygon(0 0, 100% 0, 100% 85%, 0 100%);
        }
        
        .price-tag {
            text-shadow: 1px 1px 0px #fff;
        }
        
        .frozen-card {
            border: 1px solid #e5e7eb;
            transition: all 0.2s;
        }
        
        .frozen-card:hover {
            border-color: #10b981;
            background-color: #f0fdf4;
        }
        
        /* Connection status */
        .connection-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            z-index: 1000;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        /* Main content min-height */
        .main-content {
            min-height: calc(100vh - 200px);
        }
    </style>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
    <title>Easy Go | Menu</title>
</head>
<body class="antialiased font-inter bg-white text-gray-900 flex flex-col min-h-screen">

    <!-- Firebase Connection Status Indicator -->
    <div id="firebaseStatus" class="connection-status hidden">
        üîÑ Connecting...
    </div>

    <div class="main-content">
        <header class="relative mb-8">
            <div class="h-48 md:h-64 overflow-hidden banner-clip">
                <img src="https://raw.githubusercontent.com/Clean-Scripts/EasyGo-Expense-Tracker/refs/heads/main/Banner.png" 
                     class="w-full h-full object-cover" alt="Easy Go Banner">
            </div>
            <div class="absolute -bottom-6 left-0 right-0 flex justify-center">
                <img src="https://raw.githubusercontent.com/Clean-Scripts/EasyGo-Expense-Tracker/refs/heads/main/logo.png" 
                     class="h-32 w-32 rounded-full border-4 border-white shadow-xl bg-white p-1">
            </div>
        </header>

        <div class="max-w-3xl mx-auto px-4 pt-10 pb-12 text-center">
            <h1 class="text-4xl md:text-7xl font-black tracking-tighter uppercase leading-none text-gray-900">Easy Go</h1>
            <p class="text-gray-500 uppercase text-xs font-black tracking-[0.2em] mt-3 italic">Delivering Freshness and Speed !</p>

            <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-4 text-left">
                <div class="p-5 bg-gray-900 text-white rounded-3xl flex flex-col justify-center">
                    <p class="text-xs font-black text-green-400 uppercase tracking-widest mb-1">Our Credentials</p>
                    <h3 class="text-lg font-bold leading-tight uppercase">Registered: MSME | FSSAI | GST </h3>
                    <p class="text-[10px] text-gray-400 mt-2 font-medium tracking-wide">Ensuring the highest standards of safety and professional service.</p>
                </div>
                <div class="p-5 bg-indigo-50 border-2 border-indigo-100 rounded-3xl flex flex-col justify-center">
                    <p class="text-xs font-black text-indigo-600 uppercase tracking-widest mb-1">Commitment</p>
                    <h3 class="text-lg font-bold text-gray-900 uppercase italic">Affordable Rates | Premium Quality.</h3>
                    <p class="text-[10px] text-indigo-400 mt-2 font-black uppercase">Delivering Freshness & Speed!</p>
                </div>
            </div>

            <div class="mt-8 p-6 bg-green-600 rounded-[2rem] text-white shadow-lg border-2 border-green-700">
                <p class="text-xl font-black uppercase">üõµ Free Delivery @ Order (>) ‚Çπ199</p>
                <p class="text-xs font-bold uppercase mt-1 opacity-90 tracking-widest text-center">Within 4 km from Prime Square</p>
            </div>

            <div class="mt-12 space-y-4">
                <h3 class="text-xs font-black text-gray-400 uppercase tracking-[0.5em] mb-6">Hot & Fresh Snacks</h3>

                <!-- Menu Items -->
                <a href="https://clean-scripts.github.io/Easygo-Items/?item=veg-momos-steamed" class="block">
                    <div class="p-4 md:p-6 bg-gray-50 rounded-3xl border-2 border-gray-100 flex justify-between items-center hover:scale-[1.01] transition-transform">
                        <div class="flex items-center gap-3 md:gap-4 text-left">
                            <img src="https://raw.githubusercontent.com/Clean-Scripts/Easygo-Menu/refs/heads/main/veg.png" alt="Veg Momos" class="h-12 w-12 md:h-16 md:w-16 object-contain">
                            <div>
                                <h2 class="text-xl md:text-3xl font-black uppercase leading-tight">Veg Momos (Steamed)</h2>
                                <p class="text-sm md:text-lg font-bold text-gray-400 mt-1 uppercase">Standard 8 Pieces</p>
                            </div>
                        </div>
                        <div class="text-2xl md:text-4xl font-black text-indigo-600 price-tag">‚Çπ59</div>
                    </div>
                </a>

                <a href="https://clean-scripts.github.io/Easygo-Items/?item=veg-momos-fried" class="block">
                    <div class="p-4 md:p-6 bg-amber-50 rounded-3xl border-2 border-amber-200 flex justify-between items-center relative overflow-hidden hover:scale-[1.01] transition-transform">
                        <div class="flex items-center gap-3 md:gap-4 text-left">
                            <span class="absolute top-0 left-0 bg-amber-400 text-white text-[10px] font-black px-3 py-1 rounded-br-xl uppercase">Special</span>
                            <img src="https://raw.githubusercontent.com/Clean-Scripts/Easygo-Menu/refs/heads/main/veg.png" alt="Veg Momos" class="h-12 w-12 md:h-16 md:w-16 object-contain pt-2">
                            <div class="pt-2">
                                <h2 class="text-xl md:text-3xl font-black uppercase leading-tight">Veg Momos (Fried)</h2>
                                <p class="text-sm md:text-lg font-bold text-amber-600/60 mt-1 uppercase">Crispy 8 Pieces</p>
                            </div>
                        </div>
                        <div class="text-2xl md:text-4xl font-black text-amber-600 price-tag">‚Çπ79</div>
                    </div>
                </a>

                <a href="https://clean-scripts.github.io/Easygo-Items/?item=cheese-corn-steamed" class="block">
                    <div class="p-4 md:p-6 bg-gray-50 rounded-3xl border-2 border-gray-100 flex justify-between items-center hover:scale-[1.01] transition-transform">
                        <div class="flex items-center gap-3 md:gap-4 text-left">
                            <img src="https://raw.githubusercontent.com/Clean-Scripts/Easygo-Menu/refs/heads/main/cheese-corn.png" alt="Cheese Corn Momos" class="h-12 w-12 md:h-16 md:w-16 object-contain">
                            <div>
                                <h2 class="text-xl md:text-3xl font-black uppercase leading-tight">Cheese Corn Momos (Steamed)</h2>
                                <p class="text-sm md:text-lg font-bold text-gray-400 mt-1 uppercase">Standard 8 Pieces</p>
                            </div>
                        </div>
                        <div class="text-2xl md:text-4xl font-black text-indigo-600 price-tag">‚Çπ89</div>
                    </div>
                </a>

                <a href="https://clean-scripts.github.io/Easygo-Items/?item=cheese-corn-fried" class="block">
                    <div class="p-4 md:p-6 bg-gray-50 rounded-3xl border-2 border-gray-100 flex justify-between items-center hover:scale-[1.01] transition-transform">
                        <div class="flex items-center gap-3 md:gap-4 text-left">
                            <img src="https://raw.githubusercontent.com/Clean-Scripts/Easygo-Menu/refs/heads/main/cheese-corn.png" alt="Cheese Corn Momos" class="h-12 w-12 md:h-16 md:w-16 object-contain">
                            <div>
                                <h2 class="text-xl md:text-3xl font-black uppercase leading-tight">Cheese Corn Momos (Fried)</h2>
                                <p class="text-sm md:text-lg font-bold text-gray-400 mt-1 uppercase">Crispy 8 Pieces</p>
                            </div>
                        </div>
                        <div class="text-2xl md:text-4xl font-black text-indigo-600 price-tag">‚Çπ99</div>
                    </div>
                </a>

                <a href="https://clean-scripts.github.io/Easygo-Items/?item=paneer-steamed" class="block">
                    <div class="p-4 md:p-6 bg-gray-50 rounded-3xl border-2 border-gray-100 flex justify-between items-center hover:scale-[1.01] transition-transform">
                        <div class="flex items-center gap-3 md:gap-4 text-left">
                            <img src="https://raw.githubusercontent.com/Clean-Scripts/Easygo-Menu/refs/heads/main/paneer.png" alt="Paneer Momos" class="h-12 w-12 md:h-16 md:w-16 object-contain">
                            <div>
                                <h2 class="text-xl md:text-3xl font-black uppercase leading-tight">Paneer Momos (Steamed)</h2>
                                <p class="text-sm md:text-lg font-bold text-gray-400 mt-1 uppercase">Standard 8 Pieces</p>
                            </div>
                        </div>
                        <div class="text-2xl md:text-4xl font-black text-indigo-600 price-tag">‚Çπ79</div>
                    </div>
                </a>

                <a href="https://clean-scripts.github.io/Easygo-Items/?item=paneer-fried" class="block">
                    <div class="p-4 md:p-6 bg-gray-50 rounded-3xl border-2 border-gray-100 flex justify-between items-center hover:scale-[1.01] transition-transform">
                        <div class="flex items-center gap-3 md:gap-4 text-left">
                            <img src="https://raw.githubusercontent.com/Clean-Scripts/Easygo-Menu/refs/heads/main/paneer.png" alt="Paneer Momos" class="h-12 w-12 md:h-16 md:w-16 object-contain">
                            <div>
                                <h2 class="text-xl md:text-3xl font-black uppercase leading-tight">Paneer Momos (Fried)</h2>
                                <p class="text-sm md:text-lg font-bold text-gray-400 mt-1 uppercase">Crispy 8 Pieces</p>
                            </div>
                        </div>
                        <div class="text-2xl md:text-4xl font-black text-indigo-600 price-tag">‚Çπ89</div>
                    </div>
                </a>

                <a href="https://clean-scripts.github.io/Easygo-Items/?item=mini-samosas" class="block">
                    <div class="p-4 md:p-6 bg-gray-50 rounded-3xl border-2 border-gray-100 flex justify-between items-center hover:scale-[1.01] transition-transform">
                        <div class="flex items-center gap-3 md:gap-4 text-left">
                            <img src="https://raw.githubusercontent.com/Clean-Scripts/Easygo-Menu/refs/heads/main/samosas.png" alt="Mini Samosas" class="h-12 w-12 md:h-16 md:w-16 object-contain">
                            <div>
                                <h2 class="text-xl md:text-3xl font-black uppercase leading-tight">Mini Samosas</h2>
                                <p class="text-sm md:text-lg font-bold text-gray-400 mt-1 uppercase">Standard 8 Pieces</p>
                            </div>
                        </div>
                        <div class="text-2xl md:text-4xl font-black text-indigo-600 price-tag">‚Çπ69</div>
                    </div>
                </a>

                <a href="https://clean-scripts.github.io/Easygo-Items/?item=french-fries" class="block">
                    <div class="p-4 md:p-6 bg-blue-50 rounded-3xl border-2 border-blue-200 flex justify-between items-center hover:scale-[1.01] transition-transform">
                        <div class="flex items-center gap-3 md:gap-4 text-left">
                            <img src="https://raw.githubusercontent.com/Clean-Scripts/Easygo-Menu/refs/heads/main/fries.png" alt="French Fries" class="h-12 w-12 md:h-16 md:w-16 object-contain">
                            <div>
                                <h2 class="text-xl md:text-3xl font-black uppercase leading-tight text-blue-900">French Fries</h2>
                                <p class="text-lg md:text-xl font-black text-blue-500 mt-1 uppercase">Serving: (200g)</p>
                            </div>
                        </div>
                        <div class="text-2xl md:text-4xl font-black text-blue-600 price-tag">‚Çπ69</div>
                    </div>
                </a>
            </div>

            <div class="mt-20">
                <div class="flex items-center gap-4 justify-center mb-8">
                    <div class="h-[2px] bg-gray-200 flex-grow"></div>
                    <h3 class="text-lg md:text-2xl font-black uppercase tracking-widest text-gray-400">Other Items</h3>
                    <div class="h-[2px] bg-gray-200 flex-grow"></div>
                </div>
                
                <p class="text-[10px] font-black uppercase tracking-widest mb-10 text-green-600 text-center">Partnered with US‚Ñ¢ - Heat, Eat & Smile!</p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-center">
                    <div class="frozen-card p-4 md:p-6 rounded-[2rem] text-left">
                        <h4 class="text-lg font-black uppercase mb-4 text-gray-900 border-b-2 border-gray-100 pb-2">Ready To Go Snacks</h4>
                        <ul class="text-[11px] font-bold uppercase space-y-2 text-gray-500">
                            <li class="text-green-600">Cheese Cigar Roll</li>
                            <li class="text-green-600">Dosa Rolls</li>
                            <li class="text-green-600">Cheese Corn Nuggets</li>
                            <li class="text-green-600">Veg Burger Patties</li>
                            <li class="text-green-600">Hara Bhara Kabab</li>
                            <li class="text-green-600">Cheese Balls</li>
                        </ul>
                    </div>

                    <div class="frozen-card p-4 md:p-6 rounded-[2rem] text-left">
                        <h4 class="text-lg font-black uppercase mb-4 text-gray-900 border-b-2 border-gray-100 pb-2">Other Essentials</h4>
                        <ul class="text-[11px] font-bold uppercase space-y-2 text-gray-500">
                            <li class="text-green-600">Mix Veg / Sweet Corn</li>
                            <li class="text-green-600">Green Peas</li>
                            <li class="text-green-600">Dal Makhani</li>
                            <li class="text-green-600">Pav Bhaji</li>
                            <li class="text-green-600">Special Garlic Sauce</li>
                        </ul>
                    </div>

                    <div class="frozen-card p-4 md:p-6 rounded-[2rem] text-left md:col-span-2">
                        <h4 class="text-lg font-black uppercase mb-4 text-gray-900 border-b-2 border-gray-100 pb-2 text-center">Premium Fruit Pulps</h4>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-2 text-[10px] font-black text-center text-gray-400">
                            <div class="bg-gray-50 p-3 rounded-2xl">SITAFAL</div>
                            <div class="bg-gray-50 p-3 rounded-2xl">MANGO PULP</div>
                            <div class="bg-gray-50 p-3 rounded-2xl">STRAWBERRY</div>
                            <div class="bg-gray-50 p-3 rounded-2xl">MANGO SLICES</div>
                            <div class="bg-gray-50 p-3 rounded-2xl">MANGO DICES</div>
                            <div class="bg-green-50 text-green-600 p-3 rounded-2xl">MORE...</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-16 pt-10 border-t-4 border-gray-900 flex flex-col items-center gap-2">
                <div class="mt-8 flex flex-col items-center gap-6 p-8 bg-white/50 backdrop-blur-md rounded-[2.5rem] border border-gray-100 shadow-inner">
        
                    <div id="statusContainer" class="text-center space-y-2">
                        <p id="timeStatus" class="text-sm font-black uppercase tracking-widest transition-all duration-500"></p>
                        <div id="countdownDisplay" class="text-3xl md:text-4xl font-black text-gray-900 tracking-tighter hidden">
                            00:00:00
                        </div>
                    </div>

                    <button id="placeOrderBtn" 
                            class="w-full max-w-md py-5 rounded-[2rem] text-xl md:text-2xl font-black uppercase tracking-tighter shadow-2xl transition-all duration-500 transform">
                        üöÄ Place Order
                    </button>

                    <div id="notifySection" class="hidden w-full max-w-md p-6 bg-amber-50 rounded-3xl border border-amber-100 text-center animate-bounce-short">
                        <p class="text-[10px] font-black text-amber-600 uppercase tracking-widest mb-3">Don't miss the first batch! ü•ü</p>
                        <button onclick="openNotifyModal()" class="w-full py-3 bg-amber-500 text-white rounded-2xl font-black uppercase text-xs shadow-md hover:bg-amber-600 transition-all">
                            üîî Notify Me When Open
                        </button>
                    </div>

                    <div class="flex flex-col items-center gap-1">
                        <p class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">
                            üïí Daily Service: 06:45 PM ‚Äî 11:30 PM
                        </p>
                        <p id="liveIST" class="text-[9px] font-medium text-indigo-300 uppercase italic"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8 mt-auto">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0">
                    <div class="flex items-center">
                        <img src="https://raw.githubusercontent.com/Clean-Scripts/EasyGo-Expense-Tracker/refs/heads/main/logo.png" 
                             class="h-12 w-12 rounded-full bg-white p-1 mr-3">
                        <div>
                            <h2 class="text-xl font-bold">Easy Go</h2>
                            <p class="text-gray-400 text-sm">Delivering Freshness & Speed !</p>
                        </div>
                    </div>
                </div>
                
                <div class="text-center md:text-right">
                    <p class="text-gray-400 text-sm mb-2">
                        ¬© 2024 Easy Go | All Rights Reserved
                    </p>
                    <p class="text-gray-500 text-xs">
                        Serving daily from 5:00 PM to 10:00 PM
                    </p>
                    <div class="mt-4 flex flex-wrap justify-center md:justify-end gap-2">
                        <a href="#" class="text-gray-400 hover:text-white text-sm mr-4">View Menu</a>
                        <a href="https://clean-scripts.github.io/Easygo-Privacy/" class="text-gray-400 hover:text-white text-sm mr-4">Privacy Policy</a>
                        <a href="https://clean-scripts.github.io/Easygo-Terms/" class="text-gray-400 hover:text-white text-sm mr-4">Terms & Conditions</a>
                        <button onclick="openBugModal()" class="bg-red-500 text-white px-4 py-2 rounded-2xl shadow-lg hover:bg-red-600 transition-all">
                            <span class="font-black text-xs uppercase">Report Bug</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Notification Modal -->
    <div id="notifyModal" class="fixed inset-0 bg-black/70 backdrop-blur-sm hidden flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-[2.5rem] p-6 md:p-8 max-w-sm w-full shadow-2xl text-gray-900">
            <h2 class="text-2xl font-black mb-2 uppercase tracking-tighter">Get Notified! üì¢</h2>
            <p class="text-xs font-medium text-gray-500 mb-6">We'll send you a WhatsApp message when we're open and ready to serve!</p>
            
            <div class="space-y-4">
                <div>
                    <label class="text-[9px] font-black uppercase text-gray-400 ml-1">Your Name</label>
                    <input type="text" id="leadName" placeholder="Your Good Name Please !" class="w-full border-b-2 py-2 outline-none focus:border-indigo-500 font-bold">
                </div>
                <div>
                    <label class="text-[9px] font-black uppercase text-gray-400 ml-1">WhatsApp Number</label>
                    <input type="tel" id="leadPhone" placeholder="+91 XXXXX XXXXX" class="w-full border-b-2 py-2 outline-none focus:border-indigo-500 font-bold">
                </div>
            </div>

            <div class="flex gap-3 mt-8">
                <button onclick="closeNotifyModal()" class="flex-1 py-3 rounded-xl bg-gray-50 font-black text-[10px] uppercase text-gray-400 hover:bg-gray-100">Cancel</button>
                <button onclick="sendWhatsAppNotification()" class="flex-1 py-3 rounded-xl bg-green-600 text-white font-black text-[10px] uppercase shadow-lg hover:bg-green-700">Send WhatsApp</button>
            </div>
        </div>
    </div>

    <!-- Bug Report Modal -->
    <div id="bugModal" class="fixed inset-0 bg-black/70 backdrop-blur-md hidden flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-[2.5rem] p-6 md:p-8 max-w-sm w-full shadow-2xl text-gray-900 border-2 border-red-50">
            <div class="flex justify-between items-start mb-4">
                <div>
                    <h2 class="text-2xl font-black uppercase tracking-tighter leading-none text-red-600">Report a Bug</h2>
                    <p class="text-[9px] font-bold text-gray-400 uppercase mt-2 tracking-widest">Help us fix Easy Go üõ†Ô∏è</p>
                </div>
                <button onclick="closeBugModal()" class="text-gray-300 hover:text-red-500 font-black text-xl">‚úï</button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="text-[9px] font-black uppercase text-gray-400 ml-1">What Went Wrong ?</label>
                    <textarea id="bug_desc" placeholder="Explain the issue..." class="w-full border-2 border-gray-50 rounded-2xl p-4 outline-none focus:border-red-500 font-medium text-xs h-32 resize-none bg-gray-50/50"></textarea>
                </div>
            </div>

            <button onclick="submitBugReport()" class="w-full py-4 rounded-2xl bg-red-600 text-white font-black text-xs uppercase shadow-lg mt-6 hover:bg-red-700 transition-all flex items-center justify-center gap-2">
                <span>üöÄ Send Report</span>
            </button>
            
            <p class="text-[7px] font-bold text-gray-300 text-center mt-4 uppercase tracking-widest">
                Technical Specs will be Attached Automatically !
            </p>
        </div>
    </div>

    <!-- JavaScript with Firebase Integration -->
    <script>
    // Firebase Configuration - Updated with correct database URL
    const firebaseConfig = {
        apiKey: "AIzaSyCU_wJYBTwEwMZQ-iTYOjUZuEHEphA0DXc",
        authDomain: "easygo-10f4b.firebaseapp.com",
        projectId: "easygo-10f4b",
        storageBucket: "easygo-10f4b.firebasestorage.app",
        messagingSenderId: "197660067542",
        appId: "1:197660067542:web:6c616efb479b122f1f6b77",
        databaseURL: "https://easygo-10f4b-default-rtdb.asia-southeast1.firebasedatabase.app/"
    };

    // Initialize Firebase
    let database;
    let firebaseApp;
    let isFirebaseConnected = false;

    function initializeFirebase() {
        try {
            firebaseApp = firebase.initializeApp(firebaseConfig);
            database = firebase.database();
            
            // Set up connection state listener
            const connectedRef = database.ref(".info/connected");
            connectedRef.on("value", function(snap) {
                const statusElement = document.getElementById('firebaseStatus');
                if (snap.val() === true) {
                    isFirebaseConnected = true;
                    statusElement.textContent = "‚úÖ Connected to Database";
                    statusElement.className = "connection-status bg-green-500 text-white";
                    console.log("Firebase Realtime Database connected");
                    
                    // Hide after 3 seconds
                    setTimeout(() => {
                        statusElement.classList.add('hidden');
                    }, 3000);
                } else {
                    isFirebaseConnected = false;
                    statusElement.textContent = "‚ùå Database Disconnected";
                    statusElement.className = "connection-status bg-red-500 text-white";
                }
            });
            
            // Show connecting status
            const statusElement = document.getElementById('firebaseStatus');
            statusElement.classList.remove('hidden');
            statusElement.textContent = "üîÑ Connecting to Database...";
            statusElement.className = "connection-status bg-yellow-500 text-white";
            
        } catch (error) {
            console.error("Firebase initialization error:", error);
            document.getElementById('firebaseStatus').classList.add('hidden');
        }
    }

    // Store notification in Firebase
    async function storeNotification(name, phone) {
        if (!isFirebaseConnected) {
            console.warn("Firebase not connected, notification not stored");
            return false;
        }

        try {
            const notificationData = {
                name: name,
                phone: phone,
                timestamp: Date.now(),
                date: new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' }),
                status: 'pending',
                type: 'notification_request'
            };

            const newNotificationRef = database.ref('notifications').push();
            await newNotificationRef.set(notificationData);
            
            console.log("Notification stored in Firebase:", notificationData);
            return true;
        } catch (error) {
            console.error("Error storing notification:", error);
            return false;
        }
    }

    // Store bug report in Firebase
    async function storeBugReport(description, specs) {
        if (!isFirebaseConnected) {
            console.warn("Firebase not connected, bug report not stored");
            return false;
        }

        try {
            const bugReportData = {
                description: description,
                specs: specs,
                timestamp: Date.now(),
                date: new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' }),
                status: 'new',
                type: 'bug_report'
            };

            const newBugReportRef = database.ref('bug_reports').push();
            await newBugReportRef.set(bugReportData);
            
            console.log("Bug report stored in Firebase:", bugReportData);
            return true;
        } catch (error) {
            console.error("Error storing bug report:", error);
            return false;
        }
    }

    // Store click analytics
    async function trackClick(itemName) {
        if (!isFirebaseConnected) return;

        try {
            const clickData = {
                item: itemName,
                timestamp: Date.now(),
                date: new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' }),
                userAgent: navigator.userAgent.substring(0, 100), // Limit length
                screenSize: `${window.screen.width}x${window.screen.height}`
            };

            await database.ref('clicks').push(clickData);
        } catch (error) {
            console.error("Error tracking click:", error);
        }
    }

    // Get technical specs
    function getTechnicalSpecs() {
        return {
            browser: navigator.userAgent.substring(0, 150), // Limit length
            os: navigator.platform,
            screen: `${window.screen.width}x${window.screen.height}`,
            language: navigator.language,
            time: new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' }),
            url: window.location.href.substring(0, 100), // Limit length
            cores: navigator.hardwareConcurrency || 'Unknown',
            memory: navigator.deviceMemory ? `${navigator.deviceMemory}GB` : 'Unknown',
            connection: navigator.connection ? navigator.connection.effectiveType : 'Unknown',
            timezone: Intl.DateTimeFormat().resolvedOptions().timeZone
        };
    }

    // Time-based ordering system
    function updateOrderingSystem() {
        const orderBtn = document.getElementById('placeOrderBtn');
        const statusMsg = document.getElementById('timeStatus');
        const countdownDiv = document.getElementById('countdownDisplay');
        const notifyBox = document.getElementById('notifySection');
        const istClock = document.getElementById('liveIST');
        
        const now = new Date();
        const istTime = new Date(now.toLocaleString("en-US", {timeZone: "Asia/Kolkata"}));
        
        const currentTotalSec = (istTime.getHours() * 3600) + (istTime.getMinutes() * 60) + istTime.getSeconds();
        const startTotalSec = (18 * 3600) + (45 * 60); // 18:45:00
        const endTotalSec = (23 * 3600) + (30 * 60);   // 23:30:00

        istClock.innerText = `Current IST: ${istTime.toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit' })}`;

        if (currentTotalSec >= startTotalSec && currentTotalSec <= endTotalSec) {
            // OPEN STATE
            notifyBox.classList.add('hidden');
            countdownDiv.classList.add('hidden');
            statusMsg.innerHTML = "‚ú® We are LIVE! The kitchen is hot! üî•";
            statusMsg.className = "text-green-500 text-sm font-black uppercase tracking-widest";
            orderBtn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
            orderBtn.style.color = 'white';
            orderBtn.style.opacity = '1';
            orderBtn.disabled = false;
            orderBtn.onclick = () => {
                console.log('Order button clicked at:', istTime.toLocaleTimeString());
                if (isFirebaseConnected) {
                    trackClick('place_order_button');
                }
                window.location.href = "https://clean-scripts.github.io/Easygo-Items/";
            };
        } else {
            // CLOSED STATE
            notifyBox.classList.remove('hidden');
            orderBtn.disabled = true;
            orderBtn.style.background = '#e5e7eb';
            orderBtn.style.color = '#9ca3af';
            orderBtn.style.opacity = '0.5';
            orderBtn.onclick = null;

            let secondsLeft = (currentTotalSec < startTotalSec) ? (startTotalSec - currentTotalSec) : ((86400 - currentTotalSec) + startTotalSec);
            const h = Math.floor(secondsLeft / 3600);
            const m = Math.floor((secondsLeft % 3600) / 60);
            const s = secondsLeft % 60;

            countdownDiv.classList.remove('hidden');
            countdownDiv.innerText = `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
            statusMsg.innerHTML = (h === 0 && m < 30) ? "ü§§ Almost there! Prepping fresh batches... ‚ô®Ô∏è" : "üò¥ We are resting. Opening in... ‚è≥";
            statusMsg.className = (h === 0 && m < 30) ? "text-orange-500 text-sm font-black uppercase tracking-widest" : "text-red-500 text-sm font-black uppercase tracking-widest";
        }
    }

    // Notification modal functions
    function openNotifyModal() {
        document.getElementById('notifyModal').classList.remove('hidden');
        if (isFirebaseConnected) {
            trackClick('open_notify_modal');
        }
    }

    function closeNotifyModal() {
        document.getElementById('notifyModal').classList.add('hidden');
    }

    // WhatsApp notification function
    async function sendWhatsAppNotification() {
        const name = document.getElementById('leadName').value.trim();
        const phone = document.getElementById('leadPhone').value.trim();
        
        if (!name || !phone) {
            alert("Please fill both name and phone number!");
            return;
        }
        
        // Store in Firebase
        if (isFirebaseConnected) {
            const stored = await storeNotification(name, phone);
            if (stored) {
                console.log("Notification stored successfully");
            }
        }
        
        // Clean phone number (remove spaces, dashes, etc)
        const cleanPhone = phone.replace(/\D/g, '');
        
        // WhatsApp message with better formatting
        const message = `*ü•ü EASY GO - CRAVING ALERT! ü•ü*%0A%0A*Hello from ${name}!*%0A%0AI'm eagerly waiting for your delicious momos to be available!%0A%0A*üìç My Details:*%0A‚Ä¢ *Name:* ${name}%0A‚Ä¢ *Phone:* ${phone}%0A‚Ä¢ *Time:* ${new Date().toLocaleTimeString('en-IN', {timeZone: 'Asia/Kolkata'})} IST%0A%0A*üçΩÔ∏è I'm ready to order as soon as you're open!*%0A*üöÄ Please notify me when the kitchen is LIVE!*%0A%0A_This message was sent via Easy Go Notify System_`;
        
        // Easy Go WhatsApp number
        const whatsappNumber = "917651837322";
        
        // Create WhatsApp URL
        const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${message}`;
        
        // Close modal first
        closeNotifyModal();
        
        // Clear form
        document.getElementById('leadName').value = '';
        document.getElementById('leadPhone').value = '';
        
        // Open WhatsApp in new tab
        window.open(whatsappUrl, '_blank');
        
        // Show confirmation
        setTimeout(() => {
            alert(`Thanks ${name}! We've received your notification request. We'll contact you on WhatsApp when we're open! ü•ü`);
        }, 500);
    }

    // Bug report functions
    function openBugModal() {
        document.getElementById('bugModal').classList.remove('hidden');
        if (isFirebaseConnected) {
            trackClick('open_bug_modal');
        }
    }

    function closeBugModal() {
        document.getElementById('bugModal').classList.add('hidden');
    }

    async function submitBugReport() {
        const desc = document.getElementById('bug_desc').value;
        if (!desc) {
            alert("Please tell us What Happened!");
            return;
        }

        const specs = getTechnicalSpecs();
        
        // Store in Firebase
        if (isFirebaseConnected) {
            const stored = await storeBugReport(desc, specs);
            if (stored) {
                console.log("Bug report stored successfully");
            }
        }

        const waNumber = "917651837322";

        // Formatting the message for a professional developer look
        const message = 
`*üõë BUG REPORT @EASYGO*%0A
---------------------------%0A
*Issue:* ${desc}%0A
---------------------------%0A
*üíª DEVICE SPECS:*%0A
‚Ä¢ *OS:* ${specs.os}%0A
‚Ä¢ *Browser:* ${specs.browser.substring(0, 50)}...%0A
‚Ä¢ *Display:* ${specs.screen}%0A
‚Ä¢ *RAM:* ${specs.memory}%0A
‚Ä¢ *CPU Cores:* ${specs.cores}%0A
‚Ä¢ *Time:* ${specs.time}%0A
‚Ä¢ *URL:* ${specs.url}%0A
---------------------------%0A
_Sent from Easy Go Auto-Diagnostics_`;

        // 1. Alert User
        alert("Technical Log Generated! Hit 'Send' on WhatsApp to finish the Report. üõ†Ô∏è");

        // 2. Open WhatsApp with pre-filled technical data
        const waUrl = `https://wa.me/${waNumber}?text=${message}`;
        window.open(waUrl, '_blank');
        
        // Clear form and close modal
        document.getElementById('bug_desc').value = '';
        closeBugModal();
    }

    // Initialize everything when page loads
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize Firebase
        initializeFirebase();
        
        // Set up time-based ordering system
        setInterval(updateOrderingSystem, 1000);
        updateOrderingSystem();
        
        // Track menu item clicks
        const menuLinks = document.querySelectorAll('a[href*="Easygo-Items"]');
        menuLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                const itemName = this.querySelector('h2')?.textContent || 'unknown_item';
                if (isFirebaseConnected) {
                    trackClick(itemName);
                }
            });
        });
        
        console.log('Easy Go Menu loaded successfully with Firebase!');
    });

    // Track page view
    window.addEventListener('load', function() {
        if (isFirebaseConnected) {
            trackClick('page_view');
        }
    });
    </script>
</body>
</html>
